
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

🎭 Added Mock Provider for development (no valid API keys found)
🎭 Mock AI Provider initialized (for development)
✅ AI Provider registered: Mock AI (Development)
✅ Gemini Provider initialized with 4 models
✅ AI Provider registered: Google Gemini
✅ Local LLM Provider initialized with 1 models
✅ AI Provider registered: Local LLM (Ollama)
✅ Claude Provider initialized with 3 models
✅ AI Provider registered: Claude (Anthropic)
✅ OpenAI Provider initialized with 3 models
✅ AI Provider registered: OpenAI
🚀 Initialized 2 AI providers
🚀 Unified AI Service initialized successfully
🤖 AI Service initialized successfully
6:03:01 PM [express] serving on port 8000
6:03:01 PM [express] GET /api/auth/user 304 in 243ms :: {"id":"user_1751679314699","email":"ali@mrtb…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8c-8ZK7b2/SffOZ9OdDg8TO1GXxBXg"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:03:01 PM [express] GET /api/ai/providers 304 in 28ms :: [{"name":"mock","displayName":"Mock AI (De…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"256-7ncwCklBh+nzYqiszeVVJ2V4Ey8"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"5b-QqmyfwKxxmybhR0UZxidDHel0xQ"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:03:01 PM [express] GET /api/tenants 304 in 21ms :: [{"tenant":{"id":"00000000-0000-0000-0000-00000…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e71-USomR6DIH6jhb8RYNEdnmStIxpc"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8c-8ZK7b2/SffOZ9OdDg8TO1GXxBXg"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
6:03:01 PM [express] GET /api/analytics/stats 304 in 54ms :: {"totalTasks":"0","completedTasks":"0",…
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'if-none-match': 'W/"4c-w3f6iPICbw3Ym2C7WqnSvgQj83c"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:03:01 PM [express] GET /api/ai/providers 304 in 81ms :: [{"name":"mock","displayName":"Mock AI (De…
6:03:01 PM [express] GET /api/conversations 304 in 82ms :: [{"id":"722b816b-130e-4b43-820a-d2c7f98b1…
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [400 Bad Request] API key not valid. Please pass a valid API key. [{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"API_KEY_INVALID","domain":"googleapis.com","metadata":{"service":"generativelanguage.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"API key not valid. Please pass a valid API key."}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 1)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 400,
  statusText: 'Bad Request',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.ErrorInfo',
      reason: 'API_KEY_INVALID',
      domain: 'googleapis.com',
      metadata: [Object]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.LocalizedMessage',
      locale: 'en-US',
      message: 'API key not valid. Please pass a valid API key.'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:03:01 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5KHbMjbbteH7aG3Ycw',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7bf2aaaf5b8a1-IST'
  },
  requestID: 'req_011CQp5KHbMjbbteH7aG3Ycw',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
6:03:01 PM [express] GET /api/analytics/insights 304 in 475ms :: {"insights":"Start tracking your he…
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:03:02 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '2e249f4350b750061dcc78cdbde5e9a4',
    'openai-processing-ms': '2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=IIbYyztNaaehId_U9Pxvae50BM7OEnIHxt4_YRnIXXc-1751727782-1.0.1.1-0zvsCBI1R5g4MUXXT7gjmidCZCTibnsxOjudL8W6QZIHBaoUmYu4r8GTYsi0nyW0MxZfhjxgQDbhZcbZbHDEiDS.6MoUz7PSVKx25YHCK74; path=/; expires=Sat, 05-Jul-25 15:33:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=lTtB3ZOauzq1J9K4rV_sk9XGbvKrtTjUA94vSafP7gY-1751727782020-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7bf2b1924a42e-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '2e249f4350b750061dcc78cdbde5e9a4',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:03:01 PM [express] GET /api/ai/health 304 in 658ms :: [{"provider":"mock","healthy":true},{"provid…
6:03:15 PM [express] GET /api/auth/user 401 in 0ms :: {"message":"Not authenticated"}
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [400 Bad Request] API key not valid. Please pass a valid API key. [{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"API_KEY_INVALID","domain":"googleapis.com","metadata":{"service":"generativelanguage.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"API key not valid. Please pass a valid API key."}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 1)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 400,
  statusText: 'Bad Request',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.ErrorInfo',
      reason: 'API_KEY_INVALID',
      domain: 'googleapis.com',
      metadata: [Object]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.LocalizedMessage',
      locale: 'en-US',
      message: 'API key not valid. Please pass a valid API key.'
    }
  ]
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:03:32 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '570432fe9e9e964d50bbbd242c1d4a68',
    'openai-processing-ms': '1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=dOj2vN4cjY3hwGCLsM07f2tH38_Pt2dVtWQqUMW99tE-1751727812-1.0.1.1-WkVKlCqPjkpIycOoYRXsj6jRd4DteBSE4wC0zcA3eDx1BjrzWrqFF7QbKmqtCpKQGgKstFWKRaQZW1wxp1._mZGv7m0rxr4426t5nKsY9UE; path=/; expires=Sat, 05-Jul-25 15:33:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=ALU.Y.WZYnaYGGUtoCps4dvBmQFEPOY4qcmJCkmEurE-1751727812698-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7bfea2d02b138-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '570432fe9e9e964d50bbbd242c1d4a68',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:03:32 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5MYZKcp1MUCGmGb8tY',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7bfea2ae1d621-IST'
  },
  requestID: 'req_011CQp5MYZKcp1MUCGmGb8tY',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
6:03:32 PM [express] GET /api/ai/health 200 in 721ms :: [{"provider":"mock","healthy":true},{"provid…
Browserslist: browsers data (caniuse-lite) is 9 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
6:04:00 PM [express] GET /api/auth/user 304 in 20ms :: {"id":"user_1751679314699","email":"ali@mrtbt…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8c-8ZK7b2/SffOZ9OdDg8TO1GXxBXg"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-QickUODD0hql2/jImTgd7GcH5FM"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:04:00 PM [express] GET /api/ai/providers 304 in 31ms :: [{"name":"mock","displayName":"Mock AI (De…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8c-8ZK7b2/SffOZ9OdDg8TO1GXxBXg"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e71-USomR6DIH6jhb8RYNEdnmStIxpc"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:04:00 PM [express] GET /api/ai/providers 304 in 8ms :: [{"name":"mock","displayName":"Mock AI (Dev…
6:04:00 PM [express] GET /api/conversations 304 in 8ms :: [{"id":"722b816b-130e-4b43-820a-d2c7f98b12…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"5b-QqmyfwKxxmybhR0UZxidDHel0xQ"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'if-none-match': 'W/"4c-w3f6iPICbw3Ym2C7WqnSvgQj83c"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"256-7ncwCklBh+nzYqiszeVVJ2V4Ey8"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:04:00 PM [express] GET /api/tenants 304 in 18ms :: [{"tenant":{"id":"00000000-0000-0000-0000-00000…
6:04:00 PM [express] GET /api/analytics/stats 304 in 21ms :: {"totalTasks":"0","completedTasks":"0",…
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [400 Bad Request] API key not valid. Please pass a valid API key. [{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"API_KEY_INVALID","domain":"googleapis.com","metadata":{"service":"generativelanguage.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"API key not valid. Please pass a valid API key."}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 1)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 400,
  statusText: 'Bad Request',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.ErrorInfo',
      reason: 'API_KEY_INVALID',
      domain: 'googleapis.com',
      metadata: [Object]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.LocalizedMessage',
      locale: 'en-US',
      message: 'API key not valid. Please pass a valid API key.'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:04:01 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5Pg83nXc9v6Wk2tJnp',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c09ede80411f-IST'
  },
  requestID: 'req_011CQp5Pg83nXc9v6Wk2tJnp',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
6:04:01 PM [express] GET /api/analytics/insights 304 in 419ms :: {"insights":"Start tracking your he…
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:04:01 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '8a449580751a8b3e3d331104ffa6b05c',
    'openai-processing-ms': '2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=oDsZhPblrLyeHZwRtFTfIugNweND7_cKJjMO8hbmoUI-1751727841-1.0.1.1-bzLhImau_cMeZMuR1jmTrzmfHv9_U6RXjwe_uJn1q94GMIYepQVwj2Dee693SUXwRSmONTePEpT7wMx46x.QrUKkjEEtmMTHyELaA60P3E8; path=/; expires=Sat, 05-Jul-25 15:34:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=_xaCvcuHQxYe41fVvrgGE6sykH6Bc5VooM_xqk290lA-1751727841698-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c09ed9a5e33e-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '8a449580751a8b3e3d331104ffa6b05c',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:04:01 PM [express] GET /api/ai/health 200 in 731ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"c2-e7atxiLEHJI/gwOcMWkYB8sMyfs"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:04:11 PM [express] GET /api/preferences 304 in 49ms :: {"userId":"user_1751679314699","tenantId":"…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [400 Bad Request] API key not valid. Please pass a valid API key. [{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"API_KEY_INVALID","domain":"googleapis.com","metadata":{"service":"generativelanguage.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"API key not valid. Please pass a valid API key."}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 1)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 400,
  statusText: 'Bad Request',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.ErrorInfo',
      reason: 'API_KEY_INVALID',
      domain: 'googleapis.com',
      metadata: [Object]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.LocalizedMessage',
      locale: 'en-US',
      message: 'API key not valid. Please pass a valid API key.'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:04:32 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5RwjxRTFTCPfbeBteY',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c15f2eca0d26-IST'
  },
  requestID: 'req_011CQp5RwjxRTFTCPfbeBteY',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:04:32 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '892ba143baaece9c6760e114d4be1f1b',
    'openai-processing-ms': '2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Zrr5ubxxF_9MEcaYnxa.TPn3FeoZq0icRlg8cC_S2IQ-1751727872-1.0.1.1-DNy7yfLZAvh3281dDfuFXJsU32bz.GmkbW1NE6u56m1XiHg87jq_sLWDOvgEZhNsybMAPHTrvywYRK3Mn_JewkJzEX8vz9Xv48A7cM8ogo4; path=/; expires=Sat, 05-Jul-25 15:34:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=SSgfw8vvwtAZle0tk7aHrJlM5ZjTxG_4_qXaHe8OCtA-1751727872454-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c15f9f6726ad-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '892ba143baaece9c6760e114d4be1f1b',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:04:32 PM [express] GET /api/ai/health 304 in 813ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'content-type': 'application/json',
  origin: 'http://localhost:8000',
  'sec-fetch-site': 'same-origin',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'content-length': '52',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
❌ AI Provider unregistered: gemini
✅ Gemini Provider initialized with 4 models
✅ AI Provider registered: Google Gemini
🔄 Provider gemini reloaded successfully
6:04:40 PM [express] PUT /api/ai/providers/gemini/api-key 200 in 17ms :: {"message":"Provider gemini…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8c-8ZK7b2/SffOZ9OdDg8TO1GXxBXg"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:04:40 PM [express] GET /api/ai/providers 200 in 19ms :: [{"name":"mock","displayName":"Mock AI (De…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:04:40 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5SbGRv2ovmbRwhfDDH',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c1960fb3ae07-IST'
  },
  requestID: 'req_011CQp5SbGRv2ovmbRwhfDDH',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:04:40 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '7198365b7ea154556a0bf7e7c7253ab8',
    'openai-processing-ms': '3',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=lZ3_2t9jZqvIuKDbzsQGtkHRvV4JYQDw4_tVZzCMNUQ-1751727880-1.0.1.1-jpmzMuU_9Uzl5zT8DsCdk0lZwIFR0fJsIXa_bfPJe1gkJcGYCRyFweji3QMkGurjCy61PkoOOaexBLuk0SC3p9cF2yHPySw2HNzCG2riKMA; path=/; expires=Sat, 05-Jul-25 15:34:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=OvuOto1qq2HWeCjylRAS7bJtnNfa04jDa1zdcgrEnE4-1751727880866-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c1960edbd5fe-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '7198365b7ea154556a0bf7e7c7253ab8',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:04:41 PM [express] GET /api/ai/health 200 in 630ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'content-type': 'application/json',
  origin: 'http://localhost:8000',
  'sec-fetch-site': 'same-origin',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'content-length': '14',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
📝 Updated priority for gemini to 2
6:04:43 PM [express] POST /api/ai/providers/gemini/priority 200 in 19ms :: {"message":"Provider gemi…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8b-vwwen6p+mSOzZxVu/11aVOpFMfg"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:04:43 PM [express] GET /api/ai/providers 200 in 24ms :: [{"name":"mock","displayName":"Mock AI (De…
6:04:47 PM [express] GET /api/auth/user 304 in 8ms :: {"id":"user_1751679314699","email":"ali@mrtbt.…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"bd-YHi0vinSGtwSo8zAXmaWH80VvyE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8b-xG0qy4OqPXghyP0a5AaKQ64D8oA"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:04:47 PM [express] GET /api/ai/providers 304 in 35ms :: [{"name":"mock","displayName":"Mock AI (De…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"c2-e7atxiLEHJI/gwOcMWkYB8sMyfs"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"5b-QqmyfwKxxmybhR0UZxidDHel0xQ"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"256-7ncwCklBh+nzYqiszeVVJ2V4Ey8"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:04:47 PM [express] GET /api/preferences 304 in 13ms :: {"userId":"user_1751679314699","tenantId":"…
6:04:47 PM [express] GET /api/tenants 304 in 12ms :: [{"tenant":{"id":"00000000-0000-0000-0000-00000…
6:04:47 PM [express] GET /api/analytics/stats 304 in 15ms :: {"totalTasks":"0","completedTasks":"0",…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'if-none-match': 'W/"4c-w3f6iPICbw3Ym2C7WqnSvgQj83c"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Error generating insights: RateLimitError [AIProviderError]: Rate limit exceeded for gemini
    at GeminiProvider.handleError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:494:14)
    at GeminiProvider.generateResponse (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:192:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async GeminiProvider.generateHealthInsights (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:324:22)
    at async UnifiedAIService.generateHealthInsights (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:76:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:420:20) {
  provider: 'gemini',
  code: 'RATE_LIMIT',
  retryable: true,
  retryAfter: undefined
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:04:48 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5T82N8YUAU2mc8FHfE',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c1c30a2ada12-IST'
  },
  requestID: 'req_011CQp5T82N8YUAU2mc8FHfE',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
6:04:47 PM [express] GET /api/analytics/insights 500 in 272ms :: {"message":"Failed to generate insi…
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:04:48 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '2b972a4cef80dca832eb1b31bf76def1',
    'openai-processing-ms': '2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=8C0zp9YUdxstXF5IN3XIDUOoGjDBFZLPavjRGfG7O94-1751727888-1.0.1.1-VsjG6dveA44BeKSC7HFiCjd2Ctj7v.0sMy_xZSlBKowpKGlVfhH.3nQHhxq6u82FOUsysg4uyceybNXjdct.t8qknLSQox5kGe1K_v8teag; path=/; expires=Sat, 05-Jul-25 15:34:48 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Q7Y8lY.5COHf13Z0zwqlS8p6AmuBrSFcSe.iPBMc4K8-1751727888372-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c1c30c744f36-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '2b972a4cef80dca832eb1b31bf76def1',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:04:48 PM [express] GET /api/ai/health 304 in 704ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8b-xG0qy4OqPXghyP0a5AaKQ64D8oA"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e71-USomR6DIH6jhb8RYNEdnmStIxpc"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:04:52 PM [express] GET /api/ai/providers 304 in 47ms :: [{"name":"mock","displayName":"Mock AI (De…
6:04:52 PM [express] GET /api/conversations 304 in 49ms :: [{"id":"722b816b-130e-4b43-820a-d2c7f98b1…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8b-xG0qy4OqPXghyP0a5AaKQ64D8oA"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"256-7ncwCklBh+nzYqiszeVVJ2V4Ey8"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:05:07 PM [express] GET /api/ai/providers 304 in 51ms :: [{"name":"mock","displayName":"Mock AI (De…
6:05:07 PM [express] GET /api/tenants 304 in 45ms :: [{"tenant":{"id":"00000000-0000-0000-0000-00000…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8b-xG0qy4OqPXghyP0a5AaKQ64D8oA"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
6:05:17 PM [express] GET /api/auth/user 304 in 3ms :: {"id":"user_1751679314699","email":"ali@mrtbt.…
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:05:17 PM [express] GET /api/ai/providers 304 in 8ms :: [{"name":"mock","displayName":"Mock AI (Dev…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"bd-YHi0vinSGtwSo8zAXmaWH80VvyE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e71-USomR6DIH6jhb8RYNEdnmStIxpc"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8b-xG0qy4OqPXghyP0a5AaKQ64D8oA"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"256-7ncwCklBh+nzYqiszeVVJ2V4Ey8"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
6:05:17 PM [express] GET /api/ai/providers 304 in 9ms :: [{"name":"mock","displayName":"Mock AI (Dev…
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
6:05:17 PM [express] GET /api/conversations 304 in 12ms :: [{"id":"722b816b-130e-4b43-820a-d2c7f98b1…
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"5b-QqmyfwKxxmybhR0UZxidDHel0xQ"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
6:05:17 PM [express] GET /api/tenants 304 in 21ms :: [{"tenant":{"id":"00000000-0000-0000-0000-00000…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  'sec-fetch-dest': 'empty',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  accept: '*/*',
  referer: 'http://localhost:8000/',
  'sec-fetch-site': 'same-origin',
  'sec-fetch-mode': 'cors',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:05:17 PM [express] GET /api/analytics/stats 304 in 31ms :: {"totalTasks":"0","completedTasks":"0",…
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:05:17 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5VJ88grNawP2rrTU8C',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c27b59d82362-IST'
  },
  requestID: 'req_011CQp5VJ88grNawP2rrTU8C',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
Error generating insights: RateLimitError [AIProviderError]: Rate limit exceeded for gemini
    at GeminiProvider.handleError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:494:14)
    at GeminiProvider.generateResponse (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:192:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async GeminiProvider.generateHealthInsights (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:324:22)
    at async UnifiedAIService.generateHealthInsights (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:76:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:420:20) {
  provider: 'gemini',
  code: 'RATE_LIMIT',
  retryable: true,
  retryAfter: undefined
}
6:05:17 PM [express] GET /api/analytics/insights 500 in 316ms :: {"message":"Failed to generate insi…
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:05:17 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '1ed7e25a41502dab252cc2af0d99ae6a',
    'openai-processing-ms': '1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=0WqvfG7gwsDua7nJnlVSKlLJDDWxJmehv1IvbInIIYY-1751727917-1.0.1.1-MfqqJbs.1s2LY.LyzjY1z6GGy9gOkj1_bK4WfZEEFxNUjUjCUUBj7cND16xxFTpul8d_fshsG7RZgWsyFdAE.L1TScHmOWVwofVa5AmZ.A4; path=/; expires=Sat, 05-Jul-25 15:35:17 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=XP1Vu_3bPYl1y6cNN_qv_v47GJyDuJ666IJ4pVy9IDw-1751727917839-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c27b58f6db31-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '1ed7e25a41502dab252cc2af0d99ae6a',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:05:17 PM [express] GET /api/ai/health 304 in 703ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"c2-e7atxiLEHJI/gwOcMWkYB8sMyfs"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:05:26 PM [express] GET /api/preferences 304 in 27ms :: {"userId":"user_1751679314699","tenantId":"…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'content-type': 'application/json',
  origin: 'http://localhost:8000',
  'sec-fetch-site': 'same-origin',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'content-length': '14',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
📝 Updated priority for gemini to 1
6:05:36 PM [express] POST /api/ai/providers/gemini/priority 200 in 20ms :: {"message":"Provider gemi…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8b-xG0qy4OqPXghyP0a5AaKQ64D8oA"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:05:36 PM [express] GET /api/ai/providers 200 in 9ms :: [{"name":"mock","displayName":"Mock AI (Dev…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'content-type': 'application/json',
  origin: 'http://localhost:8000',
  'sec-fetch-site': 'same-origin',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'content-length': '14',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
📝 Updated priority for openai to 2
6:05:42 PM [express] POST /api/ai/providers/openai/priority 200 in 15ms :: {"message":"Provider open…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8b-lxPReODHf36BLnkJiHsSyz8Lmj0"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:05:42 PM [express] GET /api/ai/providers 200 in 15ms :: [{"name":"mock","displayName":"Mock AI (De…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"bd-YHi0vinSGtwSo8zAXmaWH80VvyE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/preferences',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:05:48 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5XZSw9WcFZMSLuopHJ',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c33b5c205ed6-IST'
  },
  requestID: 'req_011CQp5XZSw9WcFZMSLuopHJ',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:05:48 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '9bb742ea9328d3c6f6dba63b87b1564e',
    'openai-processing-ms': '1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=bq2GSfsRn4OKZWJg6cDAEV9ZN4CWNtEaLpQHjSRqCiM-1751727948-1.0.1.1-.SQB0QN7zZmYcYXyn9JR7..pIftcQVcbkGL0NkYI3tXQI.d_kaf31euv4f1RGWzRP2vjRNg1dd4vLT6BZkJg6p2z6XKEQAnKAV1SsDJrDvA; path=/; expires=Sat, 05-Jul-25 15:35:48 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=z7mt1JMF2OmaKCKO0rXzJMUy7UMqVr7IySa2UsLLVUM-1751727948281-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c33b5ddf8604-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '9bb742ea9328d3c6f6dba63b87b1564e',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:05:48 PM [express] GET /api/ai/health 304 in 678ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8b-Z/NDVdB0leUcUY/Abi58FR7LwgY"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:05:51 PM [express] GET /api/ai/providers 304 in 19ms :: [{"name":"mock","displayName":"Mock AI (De…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'content-type': 'application/json',
  origin: 'http://localhost:8000',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'sec-fetch-site': 'same-origin',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'content-length': '2',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:06:10 PM [express] POST /api/conversations 200 in 44ms :: {"id":"e2ddb17c-c443-40de-a209-9e730c983…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:06:10 PM [express] GET /api/conversations 200 in 15ms :: [{"id":"e2ddb17c-c443-40de-a209-9e730c983…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'content-type': 'application/json',
  origin: 'http://localhost:8000',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'sec-fetch-site': 'same-origin',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'content-length': '46',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Generating AI response with provider: mock model: undefined
Message context: {
  userId: 'user_1751679314699',
  messageCount: 1,
  userProfile: { name: 'Demo' }
}
✅ Response generated by mock in 718ms
AI response generated: { hasContent: true, contentLength: 134, provider: 'unknown' }
6:06:11 PM [express] POST /api/conversations/e2ddb17c-c443-40de-a209-9e730c983d70/messages 200 in 75…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"f58-IVTXFA/XIXa+sSHFrkEegqQnZB8"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:06:11 PM [express] GET /api/conversations 304 in 21ms :: [{"id":"e2ddb17c-c443-40de-a209-9e730c983…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"bd-YHi0vinSGtwSo8zAXmaWH80VvyE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:06:18 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5Zpf2qAWYJ9FUkr1fq',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c3fb28641809-IST'
  },
  requestID: 'req_011CQp5Zpf2qAWYJ9FUkr1fq',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:06:19 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': 'ec6e63e6f449a498a2635d846ae05dc4',
    'openai-processing-ms': '4',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=5ji4O0AcpPXZynW58oiiL40z2u_9MghdPds6VlfhCQ4-1751727979-1.0.1.1-M43WsgqjAcoaKS_ZzHozYBs.M1ePrOXKyS5439fv51UptD767pvnoje.OUkh0K0nmKRPm7hiWo9oft0MSNvwz1gSNL4V4PEj2q372lCL8WE; path=/; expires=Sat, 05-Jul-25 15:36:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=qI.H.2LbyLW5i7CB3vNu2AybE0X00vvXdvDJsalhMRE-1751727979346-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c3fb2a19d2a3-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'ec6e63e6f449a498a2635d846ae05dc4',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:06:19 PM [express] GET /api/ai/health 200 in 728ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8b-Z/NDVdB0leUcUY/Abi58FR7LwgY"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"bd-Fc+xmXyXMPi5amEoM8bus4PvnLc"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
6:06:38 PM [express] GET /api/auth/user 304 in 10ms :: {"id":"user_1751679314699","email":"ali@mrtbt…
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:06:38 PM [express] GET /api/ai/providers 304 in 15ms :: [{"name":"mock","displayName":"Mock AI (De…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"f58-IVTXFA/XIXa+sSHFrkEegqQnZB8"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"e8b-Z/NDVdB0leUcUY/Abi58FR7LwgY"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:06:38 PM [express] GET /api/ai/providers 304 in 6ms :: [{"name":"mock","displayName":"Mock AI (Dev…
6:06:38 PM [express] GET /api/conversations 304 in 8ms :: [{"id":"e2ddb17c-c443-40de-a209-9e730c983d…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  'sec-fetch-dest': 'empty',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  accept: '*/*',
  referer: 'http://localhost:8000/',
  'sec-fetch-site': 'same-origin',
  'sec-fetch-mode': 'cors',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"5b-QqmyfwKxxmybhR0UZxidDHel0xQ"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"256-7ncwCklBh+nzYqiszeVVJ2V4Ey8"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:06:38 PM [express] GET /api/tenants 304 in 16ms :: [{"tenant":{"id":"00000000-0000-0000-0000-00000…
6:06:38 PM [express] GET /api/analytics/stats 200 in 17ms :: {"totalTasks":"0","completedTasks":"0",…
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"21s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '21s'
    }
  ]
}
Error generating insights: RateLimitError [AIProviderError]: Rate limit exceeded for gemini
    at GeminiProvider.handleError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:494:14)
    at GeminiProvider.generateResponse (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:192:18)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async GeminiProvider.generateHealthInsights (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:324:22)
    at async UnifiedAIService.generateHealthInsights (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:76:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:420:20) {
  provider: 'gemini',
  code: 'RATE_LIMIT',
  retryable: true,
  retryAfter: undefined
}
6:06:38 PM [express] GET /api/analytics/insights 500 in 242ms :: {"message":"Failed to generate insi…
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:06:38 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5bHg1g9Yjr6B7BZEpa',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c4775ebb3d66-IST'
  },
  requestID: 'req_011CQp5bHg1g9Yjr6B7BZEpa',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:06:38 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': 'feee2517106628322c89f6705ae3599a',
    'openai-processing-ms': '2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=uUx8ioy03GSTUdqHCN1ze9AOz49WGX0_wMDEL_TrVKw-1751727998-1.0.1.1-RPCXL1vp8BQSlsvNZ5iT2BtK1mAW0OCGKzwcBOIKwkPcg.3EMAXna1CkzWisTPf644Us8pF.DII2eMtsfuHfqgnrsEwMk5rwDcyK4DmvxfM; path=/; expires=Sat, 05-Jul-25 15:36:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=NOPNPeP8uHwB00P4zn.VRSc_GnXigZDn8wolVfDUE4Q-1751727998809-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c4775e5c4fbb-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'feee2517106628322c89f6705ae3599a',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:06:38 PM [express] GET /api/ai/health 200 in 303ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"50s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '50s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:07:09 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5dXU2sc8y2D5t87JYf',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c5351a3a3a71-IST'
  },
  requestID: 'req_011CQp5dXU2sc8y2D5t87JYf',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:07:09 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '35669a535829c3547c668515e26e19bc',
    'openai-processing-ms': '1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Ef9hnqsHhw4b8RCYzBdkyG2G1V5e65VO4QFmKU9FOJM-1751728029-1.0.1.1-kxvDgt.7lrWAxntQ3KsP3xBDX.f461oc6aiZBWbg16DBYsELW3_aPh90Bx3Xahi7UalI6CD._.4SYILd1hrHmmA6iWBbjrjxiCiawjBPxqQ; path=/; expires=Sat, 05-Jul-25 15:37:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=koag_QrxoaDozHi9fVLJmbxzJbApt.ji03zpPORsdjg-1751728029466-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c5359d1349da-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '35669a535829c3547c668515e26e19bc',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:07:09 PM [express] GET /api/ai/health 304 in 641ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"20s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '20s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:07:39 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5fnXxbvHvB5dhLrBRJ',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c5f4bd44d621-IST'
  },
  requestID: 'req_011CQp5fnXxbvHvB5dhLrBRJ',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:07:40 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': 'ee6b97fe68b515993b3deb89711150b7',
    'openai-processing-ms': '1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=CyIe14M8je0oeC2_AN2b8ipAEhdy0d.APtyk5xIRKvc-1751728060-1.0.1.1-ri8U3x7cz_7xbnPnOOzGS13BMmEoUWo.Sw9Wd60I8lM_lq9amyVC6628G00NrqXpglD9ba7mixVWaZE1Odh4X0rD4GmVo_cwL0e9USGwM7U; path=/; expires=Sat, 05-Jul-25 15:37:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=tm8kOPxWp_EHRwxotagOHPLrNGogFlVbzXBROaz2gUI-1751728060063-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c5f4bf04b138-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'ee6b97fe68b515993b3deb89711150b7',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:07:40 PM [express] GET /api/ai/health 304 in 583ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:08:10 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5i48cv4i6mS6TiUztM',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c6b51837c71b-IST'
  },
  requestID: 'req_011CQp5i48cv4i6mS6TiUztM',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"49s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '49s'
    }
  ]
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:08:10 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '5839453d0d19607e48b67f0e94e67135',
    'openai-processing-ms': '3',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=hgurmNExxG233f_u7CGU9iUK8EWGGSUivtCwl8kX.Vw-1751728090-1.0.1.1-oXibVPWzF9tZy0LPQCS4n51trT_iae0XfPwMDHJaSVyIv.UkNR3FGQnrs7qm8XInqVRyShWzGd4NtoBBX1VZr06YCofl0q.YWyWCzOuw3LI; path=/; expires=Sat, 05-Jul-25 15:38:10 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=25viZHRAkONH1tdHNfvE8doSyUOYZwwRvSXCXOj5vuE-1751728090934-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c6b51fb10d37-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '5839453d0d19607e48b67f0e94e67135',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:08:10 PM [express] GET /api/ai/health 200 in 970ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-+GZiEKMuxGNqf1iFPCGNzyxko+Q"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"18s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '18s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:08:41 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5kKuD4demkXeJ11Dox',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c7756e1f16f8-IST'
  },
  requestID: 'req_011CQp5kKuD4demkXeJ11Dox',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:08:41 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '387d524ffb0a45268b33f49ac9b021c5',
    'openai-processing-ms': '1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=zDL8zHscZSHU4eHxbAuf6BMShTjV_eZIAVxe4UCCF9w-1751728121-1.0.1.1-ihbUWI7ZINUnlzUWToZ_33cQUJNqSwAy6ucqRcGfwiMfmgWhzEPllW3_iZEY.qt1IX4Lkfs9kIqAPI8EfjigdrvzrOREF_QJYVojBY4WD3E; path=/; expires=Sat, 05-Jul-25 15:38:41 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=h05zPc7odHThnAYt4uuhHd5wUwbIeV15NtDhZ1fqYV0-1751728121469-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c7760f373ec0-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '387d524ffb0a45268b33f49ac9b021c5',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:08:41 PM [express] GET /api/ai/health 200 in 415ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"48s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '48s'
    }
  ]
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:09:11 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '85bb5d6c780f628e39839a1342a59dcc',
    'openai-processing-ms': '1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=NyKxrktk8WhbFZ89FiQUtKNCq4VxAGc_AXymtuOLOYY-1751728151-1.0.1.1-WKZ9j3nwh4hJjUM9rVsxDA_dVaxwiwQd74KmybsptymZW2yZGSL6DVzVpHFhGRqffTp1j1avjHxKvjReNGw_EhOqA2HakqxP0lXw80HC9Yw; path=/; expires=Sat, 05-Jul-25 15:39:11 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=NLoKDyn4NNVrRpAj2h3.KiG9Kkv9xIxaky1D85xjlhU-1751728151787-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c833a94b0c29-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '85bb5d6c780f628e39839a1342a59dcc',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:09:11 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5na3KeNzjHjD4oygQ7',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c833a8f3561e-IST'
  },
  requestID: 'req_011CQp5na3KeNzjHjD4oygQ7',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
6:09:11 PM [express] GET /api/ai/health 200 in 423ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-QickUODD0hql2/jImTgd7GcH5FM"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"17s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '17s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:09:42 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5pp3VY9VCaME6fr7wZ',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c8f209d2d613-IST'
  },
  requestID: 'req_011CQp5pp3VY9VCaME6fr7wZ',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:09:42 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '2f4c36f4476764eecdf9842e6f885f7c',
    'openai-processing-ms': '3',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=AWdNO.KT6y42hto8m9JTtgFltyY.0o4bu7zWBPSUcvA-1751728182-1.0.1.1-L_P7t7ghAINZYtmK7cRPoNSXsxYClLRiwkouLbe.3kyXQFg6oW7SNN6OnOpL3c.DmA1207jN5KqKIyw05VMbgbFdvD_Nq1aEfcwLrNXxYxQ; path=/; expires=Sat, 05-Jul-25 15:39:42 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=uR1GSshyxbnYexlFbCgIYk0WWNSjPjlIfNKivRRHD4M-1751728182656-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c8f21c57df7a-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '2f4c36f4476764eecdf9842e6f885f7c',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:09:42 PM [express] GET /api/ai/health 200 in 746ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"47s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '47s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:10:13 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5s5dAhyFcDfDEA6Tgv',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7c9b26b7edb46-IST'
  },
  requestID: 'req_011CQp5s5dAhyFcDfDEA6Tgv',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:10:14 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': 'd856ab2fe8c85433579081cb93aa45d5',
    'openai-processing-ms': '5',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=QyNvrTQX5ak10nlMB8prAMDEbCWBBT1NU.jswr2sWiU-1751728214-1.0.1.1-vJTdbL_BhOrUlbG6yDXTI11gsDgQYHphh7jnQHSRLLIo_irAjE7NDvRwOIsm4vGhcHLKKkbCTyohqsvnoXPWAYHh1SQaDVCQxXkXrUr63qQ; path=/; expires=Sat, 05-Jul-25 15:40:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=kQURiH1r4KYYyOXsUf5OzY_w8BGVX6BvnaEwQDrX3nk-1751728214480-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7c9b94ff1db31-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'd856ab2fe8c85433579081cb93aa45d5',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:10:14 PM [express] GET /api/ai/health 304 in 1806ms :: [{"provider":"mock","healthy":true},{"provi…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"15s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '15s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:10:44 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5uRw6ysxmngbWfsMKq',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7ca79ade1d617-IST'
  },
  requestID: 'req_011CQp5uRw6ysxmngbWfsMKq',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:10:45 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '887e70b89c7aa27eb33d7b113477fef7',
    'openai-processing-ms': '1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=qbikFIhwPPgwmvEU.TIYp7zouGDhzF87r5YHF1FLPTM-1751728245-1.0.1.1-e9yZgy.yMRcCkF35aikjbzCmrPzufjW3KHJhBGBKtEOvxLnnNeULUJ4IRHtwfkrvtoYwDl17eRMf2yXmIPiK22X88Bgu4SOMJs5X1EwgOh4; path=/; expires=Sat, 05-Jul-25 15:40:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=.pRsk5VlnPr2Jjn2N_8.7.MPNPCesBxH3TlSLKs9vsU-1751728245204-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7ca79cdfce32d-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '887e70b89c7aa27eb33d7b113477fef7',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:10:45 PM [express] GET /api/ai/health 304 in 719ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"44s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '44s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:11:15 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5wgn8P2aMKphC4xESM',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7cb38f9997b12-IST'
  },
  requestID: 'req_011CQp5wgn8P2aMKphC4xESM',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:11:15 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '2642b904cdc941064f269d785666615f',
    'openai-processing-ms': '3',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=8y8Z1.srKYSTkpAkzgGJSMx1vNmZ2c7DsiFWRFlOow4-1751728275-1.0.1.1-qIUsPyP97unFJc6CsQCFHOFb5Cw2SxiJbAdCiUN0fh67guDbnKA4y0zqSO0vdymATtzb1VyNDfWtcQ_oQ2y9DM6w.A7zo.BKqF2KmVyBJQQ; path=/; expires=Sat, 05-Jul-25 15:41:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=ghdrMVhdEiCXBlat7qg92VFT6r0kij7IncwseFrwTkI-1751728275965-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7cb38f804f2ed-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '2642b904cdc941064f269d785666615f',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:11:15 PM [express] GET /api/ai/health 304 in 760ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"5b-t2mRb/WuPZvHdInHvn5zPhWGS3k"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
6:11:38 PM [express] GET /api/analytics/stats 304 in 59ms :: {"totalTasks":"0","completedTasks":"0",…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"13s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '13s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:11:46 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp5yxZTiid18wfCvmmMy',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7cbf99f22d612-IST'
  },
  requestID: 'req_011CQp5yxZTiid18wfCvmmMy',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:11:46 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': 'a6db2d77d9a30b95c3fc17f21aad251c',
    'openai-processing-ms': '3',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=hkCGfgRAp1W0MQv5DXj0EmzAUHihLw0qxVgPo31lu1g-1751728306-1.0.1.1-ZdRP3GONav0fCE3rFSN2h_S3w0_lfG2ksSq6t.DxrHp58N563hBCQ1HehH5f4Trl3mG9Uwf8n0UpqmKjWN2nsIewOtRsghV8V_D_hy.V.2Y; path=/; expires=Sat, 05-Jul-25 15:41:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=rS4uEnxY2jQxRQ5uxIfAam6Sogoe4UEB9fLFvtowT_0-1751728306877-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7cbfa3871d602-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'a6db2d77d9a30b95c3fc17f21aad251c',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:11:46 PM [express] GET /api/ai/health 304 in 875ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"model":"gemini-1.5-flash","location":"global"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"42s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '42s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:12:17 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp62EdQMnJ1CFc5cSsTS',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7ccbaa801e34c-IST'
  },
  requestID: 'req_011CQp62EdQMnJ1CFc5cSsTS',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:12:17 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '2eee6d4ba74f38468084d025103d1727',
    'openai-processing-ms': '1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=wdwO_1AnGjskSUA18em6QTSt_9zZc1ZWmgXuCh7QHs0-1751728337-1.0.1.1-gbnVf5grZrSzNF5NfIPqFR_s8K86tuRC7ci.MuDBQqsLkP_G4b0O9ZMIjvcV85gO7ioW6ZM8ZPY2o1YojCoorkxkMSM6_vIdIIk6a0zMhmU; path=/; expires=Sat, 05-Jul-25 15:42:17 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=VTA8XW3KynuqiMhcwOKU5BB7w4tPoAdFiwSFq2TbxAo-1751728337232-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7ccbaaa4ec9ca-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '2eee6d4ba74f38468084d025103d1727',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:12:17 PM [express] GET /api/ai/health 304 in 352ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"12s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '12s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:12:47 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp64UMDBexJP26LEBTje',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7cd78398db0de-IST'
  },
  requestID: 'req_011CQp64UMDBexJP26LEBTje',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:12:47 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': 'be59230e33e4b3f9e9438fbbfafb85e5',
    'openai-processing-ms': '2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=lwz.RWwqwXrj963VDTKzjm.3755ZbGmWuLvrn2okou0-1751728367-1.0.1.1-_9BK6Vqpah_Xa.q.dzvjHmD3J54geBLlv_l0IDLaQ0_bBD9xol1BaJTZi6CJVj6HyMsjLaftKn0xydCJoy.7xb03w_MDxXPlx4eVKEbHbOk; path=/; expires=Sat, 05-Jul-25 15:42:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=LsWL2WGKfuYf8cZplXccQ5Ni8MCuoGwgotYqO52HtBM-1751728367917-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7cd783a65e332-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'be59230e33e4b3f9e9438fbbfafb85e5',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:12:47 PM [express] GET /api/ai/health 304 in 674ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"41s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '41s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:13:18 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp66k4pZKPPNauuoXezn',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7ce38d8b0bc7a-IST'
  },
  requestID: 'req_011CQp66k4pZKPPNauuoXezn',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:13:18 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '59212e07d857476439e715c96d0cce8f',
    'openai-processing-ms': '2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=ifye8hcD3tyCT9RkPuwnfvDGI.qDHc4LBu9oGaz3wrQ-1751728398-1.0.1.1-MtGaXHA.pwfsa7oxMbmoZvEKPP8sKjM3QT.5eN.TtjqWRKsnJsfALYiw70tJbqVdXQmkv4YHuOFIjQhxYD_q34xOE4cbutoMsEaMgAWIsiI; path=/; expires=Sat, 05-Jul-25 15:43:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=A2CY7zOAAXI735hxTLFxuDNCLWLhshs3TMtSLATeOyk-1751728398827-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7ce3948cfd613-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '59212e07d857476439e715c96d0cce8f',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:13:18 PM [express] GET /api/ai/health 304 in 887ms :: [{"provider":"mock","healthy":true},{"provid…
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-MjEahNZ2iQoCZbWhy6k991FUnKE"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"10s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '10s'
    }
  ]
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:13:49 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '2a925cd866e078b3691e534da5815df8',
    'openai-processing-ms': '2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=jTWBAiXedIFBVoi9lmcW6GDUrktAxuVsSyURi6Hddmk-1751728429-1.0.1.1-azz89_AcS5J_3xor1laDhK71A95tmA_crdMgQ4RFZpiKBQai7O2PwThCmD_rgGbjGKIwMGcDyabqskiQA.ptCfZBQ90zPWNAdq7g2RsvWH8; path=/; expires=Sat, 05-Jul-25 15:43:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=nEo2nkSOxt2.3mL6DL82AlQ1sLyL2VPfKpmYtGnvkyk-1751728429227-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7cef98c20c9ca-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '2a925cd866e078b3691e534da5815df8',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:13:49 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp692A1GS5RxfjtMgpo9',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7cef9e81e7fc6-IST'
  },
  requestID: 'req_011CQp692A1GS5RxfjtMgpo9',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
6:13:49 PM [express] GET /api/ai/health 200 in 406ms :: [{"provider":"mock","healthy":true},{"provid…
6:14:04 PM [express] GET /api/debug/ai-status 401 in 1ms :: {"message":"Unauthorized"}
Tenant resolution for: /
Headers: {
  host: 'localhost:8000',
  accept: '*/*',
  'sec-fetch-site': 'same-origin',
  'x-tenant-id': '00000000-0000-0000-0000-000000000001',
  'if-none-match': 'W/"be-QickUODD0hql2/jImTgd7GcH5FM"',
  'sec-fetch-mode': 'cors',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15',
  referer: 'http://localhost:8000/',
  'sec-fetch-dest': 'empty',
  'accept-language': 'en-US,en;q=0.9',
  priority: 'u=3, i',
  'accept-encoding': 'gzip, deflate',
  cookie: 'connect.sid=s%3AJO1wv_xj2migtUdhVNwR7DvxTLLyTdha.NWCaxufKvp2sxK6awTRuH2IvM1uyi07XtBiTzirEpSk; next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xhWK4snTD1JmdOkZ.S7hgd022Gbk0deQ2ZW6J5KuLoYuxgdNRFqSnrEaqhUOskimwp1XuRyRm_Nyd4v3MyRPIzwK99oPL1ji_YR8lBPaZNKI50vbn693O8eVYLtzhMApHT8wl3O_7weV6Ig19D2JmVfyupdHK6hG7IrpIuZJY_8WM45Bt81y9seEl1Ovs_fPFZxwy9p-6Ppr7Itlox3LFn2aKUBUTlVFyMustO4kK-5VUv9oBjNkr07mDxB-KpWFnwicbwB_Skt7Phff7WToYc8M4cozqSQ.sMr5bICe8ngXv5uGJsW75g; csrftoken=G5ZGhOo3M4I8eXusep6gUDyx90zGGZCjYQtaV2zsGZYzrPO0EUyPx7inJ4rIDDBN',
  connection: 'keep-alive'
}
User: user_1751679314699
Resolved tenant ID: 00000000-0000-0000-0000-000000000001
Tenant context set: { id: '00000000-0000-0000-0000-000000000001', role: 'owner' }
Gemini health check failed: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"model":"gemini-1.5-flash","location":"global"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"40s"}]
    at handleResponseNotOk (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContent (file:///Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@google/generative-ai/dist/index.mjs:865:22)
    at async GeminiProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/GeminiProvider.ts:115:22)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 4)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [Array]
    },
    { '@type': 'type.googleapis.com/google.rpc.Help', links: [Array] },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '40s'
    }
  ]
}
Claude health check failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/core/error.ts:67:14)
    at Anthropic.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:412:28)
    at Anthropic.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/@anthropic-ai/sdk/src/client.ts:645:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ClaudeProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/ClaudeProvider.ts:106:24)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 2)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:14:19 GMT',
    'content-type': 'application/json',
    'content-length': '86',
    connection: 'keep-alive',
    'x-should-retry': 'false',
    'request-id': 'req_011CQp6BFra4ZLrL4Qpt28Yp',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    via: '1.1 google',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare',
    'cf-ray': '95a7cfb78b6ac9ca-IST'
  },
  requestID: 'req_011CQp6BFra4ZLrL4Qpt28Yp',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' }
  }
}
OpenAI health check failed: AuthenticationError: 401 Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.
    at Function.generate (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/core/error.ts:76:14)
    at OpenAI.makeStatusError (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:425:28)
    at OpenAI.makeRequest (/Users/aliyavuzer/Desktop/GitHub/MindSphere/node_modules/openai/src/client.ts:646:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async OpenAIProvider.isHealthy (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/providers/OpenAIProvider.ts:107:7)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:199:27)
    at async Promise.all (index 3)
    at async AIProviderFactory.checkProvidersHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/AIProviderFactory.ts:207:5)
    at async UnifiedAIService.getProviderHealth (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/services/UnifiedAIService.ts:181:12)
    at async <anonymous> (/Users/aliyavuzer/Desktop/GitHub/MindSphere/server/routes.ts:736:28) {
  status: 401,
  headers: Headers {
    date: 'Sat, 05 Jul 2025 15:14:19 GMT',
    'content-type': 'application/json',
    'content-length': '253',
    connection: 'keep-alive',
    'www-authenticate': 'Bearer realm="OpenAI API"',
    'openai-version': '2020-10-01',
    'x-request-id': '26353d50f384d2f6aa95d4dec6f5e97c',
    'openai-processing-ms': '3',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=8VoMmqEG_.cNKosbra82.Y_ZtaIt0tMXVYLCmmPOvOI-1751728459-1.0.1.1-hO5cBJp9pITHW6Qq0S9X8m34asKr4k5G1MKv3fgE_JCPE_eiQjwZKh5r40spW.voCehHDDUMWwRpnGPd8z98DMPyoutWSD_OsbxCYExnjQQ; path=/; expires=Sat, 05-Jul-25 15:44:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=OVmR94G69H3An1uN8ssSGuVoyA9Py9uro6AFqTbUafU-1751728459971-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '95a7cfb78a55da12-IST',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: '26353d50f384d2f6aa95d4dec6f5e97c',
  error: {
    message: 'Incorrect API key provided: your_ope************here. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error'
}
6:14:19 PM [express] GET /api/ai/health 200 in 682ms :: [{"provider":"mock","healthy":true},{"provid…
